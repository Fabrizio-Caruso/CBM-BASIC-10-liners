0dIp(99):dIc$(99):dId$(99):z=65:fOi=.to5:p(i+z)=.:nE:t=.:q=.:g=32:o(1)=14:goS7
1o(.)=5:goS8:input"{down*4}{purple}>";a$:a$=a$+"  ":f=aS(mI(a$,1,1)):s=aS(mI(a$,2,1)):pOv,9
2pOv,.:iff=gorf<zorf>70orf=sors<>gaN(s<zors>70)or(p(f)<>t)or(s<>gaNp(s)<>t)gO1
3p(f)=p(f)+1aN1:p(s)=p(s)+1aN1:q=q+1:?"{cyan}....":?"{black}{down}move:";q:fOu=-ztoz:nE:fOw=.to1
4m(w)=.:c(w)=.:fOi=.to2:m(w)=m(w)+(p(i+z)+waN1):c(w)=c(w)+(p(i+68)+waN1):nE
5nE:t=t+1aN1:on-((m(.)<>c(.))or(c(.)<3))gO6:goS8:?"{down*2}{blue}done in"q"steps!":goS7:rU
6on-(((m(.)=.)or(m(.)>=c(.)))aN((m(1)=.)or(m(1)>=c(1))))gO1:goS8:?"{red}end":goS7:rU
7fOi=.to2:fOj=9toz:c$(i+z)="{black}":d$(i+z)="{216}":c$(i+68)="{red}":d$(i+68)="{113}":nE:nE:reT
8?"{clear}{red}{113}{black}{216} {blue}mini-brainstorm {black}{216}{red}{113}{down*2}":fOi=.to5:?sPo(p(i+z)));c$(i+z);d$(i+z);cH(i+z)
9pO38476+22*i,3:pO7756+22*i,102:nE:?sPo(t));"{left}{green}{223}{185*2}{169}":v=36878:pOv+1,25:pO19,1:reT